@using Application.Chat.Dto
@model ChatListModel
@{
  var id = int.Parse(Context.User.Claims.FirstOrDefault(cl => cl.Type == "Id")?.Value);
}
        <div class="p-3">
       
                       <div class="input-group rounded mb-3">
                         <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search"
                                aria-describedby="search-addon" />
                         <span class="input-group-text border-0" id="search-addon">
                           <i class="fas fa-search"></i>
                         </span>
                       </div>
       
                       <div data-mdb-perfect-scrollbar-init style="overflow-y: auto;height: 80vh; border: 1px solid #ccc; border-radius: 5px; padding: 10px;">
                         <ul class="list-unstyled mb-0">
                           @{
                             foreach (var chat in Model.Chats)
                             {
                               <li class="p-2 border-bottom">
                                 <a id="chatLink" href="/chats/@chat.Id" class="d-flex justify-content-between">
                                   <div class="d-flex flex-row">
                                     <div>
                                       <img
                                         src="@chat.Users.First(us => us.Id != id).AvatarUrl"
                                         alt="avatar" class="d-flex align-self-center me-3" width="60">
                                       <span class="badge bg-warning badge-dot"></span>
                                     </div>
                                     <div class="pt-1">
                                       <p class="fw-bold mb-0">@chat.Users.First(us => us.Id != id).FullName</p>
                                       <p class="small text-muted">Недавно в сообществе</p>
                                     </div>
                                   </div>
                                   <div class="pt-1">
                                     <p class="small text-muted mb-1">5 mins ago</p>
                                     <span class="badge bg-danger rounded-pill float-end">2</span>
                                   </div>
                                 </a>
                               </li>
                             }
                           }
                         </ul>
                         <div style="text-align: center; margin-top: 1rem; margin-bottom: 1rem; color: darkgrey">--Оставшиеся пользователи--</div>
                         <ul class="list-unstyled mb-0">
                           @foreach (var user in Model.OtherUsers)
                           {
                             <li class="p-2 border-bottom p-2 border-top">
                               <a id="otherUserLink" href="" class="d-flex justify-content-between other-user" data-id="@user.Id" other-user>
                                 <div class="d-flex flex-row">
                                   <div>
                                     <img
                                       src="@user.AvatarUrl"
                                       alt="avatar" class="d-flex align-self-center me-3" width="60">
                                     <span class="badge bg-warning badge-dot"></span>
                                   </div>
                                   <div class="pt-1">
                                     <p class="fw-bold mb-0">@user.FullName</p>
                                     <p class="small text-muted">Недавно в сообществе</p>
                                   </div>
                                 </div>
                               </a>
                             </li>
                           }
                         </ul>
                         
                       </div>
                     </div>


